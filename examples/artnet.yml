nodes:
  - type: artnet-output
    id: artnet-output-0
    config:
      host: 0.0.0.0
  - type: convert-to-dmx
    id: convert-to-dmx-0
    config:
      channel: 1
  - type: convert-to-dmx
    id: convert-to-dmx-1
    config:
      channel: 18
  - type: oscillator
    id: oscillator-1
    config:
      type: sine
    properties:
      ratio: 4
      max: 1
  - type: osc-input
    id: osc-input-0
    config:
      port: 7000
      path: /1/fader1
  - type: script
    id: script-0
    config: |
      fn main() {
        if state.i == () {
          state.i = 0.0;
        }
        state.i = state.i + 1.0;
        if state.i >= 255.0 {
          state.i = 0.0;
        }
        state.i
      }

channels:
  - dmx@convert-to-dmx-0 -> dmx@artnet-output-0
  - dmx@convert-to-dmx-1 -> dmx@artnet-output-0
  - value@oscillator-1 -> value@convert-to-dmx-1
  - value@osc-input-0 -> @script-0
  - value@script-0 -> value@convert-to-dmx-0
